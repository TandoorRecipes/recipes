
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Tandoor Recipe Documentation">
      
      
        <meta name="author" content="vabene1111">
      
      
      
      
      
        
      
      
      <link rel="icon" href="../../../logo_color.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Import / Export Integration Contribution Guide - Tandoor Recipes</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#import-export-integration-contribution-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Tandoor Recipes" class="md-header__button md-logo" aria-label="Tandoor Recipes" data-md-component="logo">
      
  <img src="../../../logo_color.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Tandoor Recipes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Import / Export Integration Contribution Guide
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/vabene1111/recipes" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Tandoor Recipes" class="md-nav__button md-logo" aria-label="Tandoor Recipes" data-md-component="logo">
      
  <img src="../../../logo_color.svg" alt="logo">

    </a>
    Tandoor Recipes
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/vabene1111/recipes" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Installation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../install/docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Docker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../install/unraid/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Unraid
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../install/synology/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Synology
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../install/kubernetes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Kubernetes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../install/kubesail/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    KubeSail or PiBox
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../install/truenas_portainer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    TrueNAS Portainer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../install/wsl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    WSL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../install/archlinux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ArchLinux
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../install/homeassistant/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HomeAssistant
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../install/manual/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Manual
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../install/other/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Other setups
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Features
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Features
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../features/templating/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Templating
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../features/shopping/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Shopping
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../features/authentication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Authentication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../features/automation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Automation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../features/connectors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Connectors
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../features/external_recipes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Storages and Sync
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../features/import_export/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Import/Export
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../features/telegram_bot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Telegram bot
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    System
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    System
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../system/configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../system/updating/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Updating
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../system/migration_sqlite-postgres/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Migrate sqlite to postgres
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../system/permissions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Permission System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../system/backup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Backup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Contributing
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../translations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Translations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Documentation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guidelines/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Code
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_6" >
        
          
          <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    IDE Setup
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    IDE Setup
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../vscode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    VSCode
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pycharm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PyCharm
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../related/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Related Projects
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FAQ
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="import-export-integration-contribution-guide">Import / Export Integration Contribution Guide</h1>
<h1 id="setup">Setup</h1>
<p>There are 5 files you need to configure in order create a new integration
1. Create a new integration class in <code>/cookbook/integration/</code>
2. Include integration in <code>/cookbook/forms.py</code> 
3. Add the new integration class import and include in the 'if' chain in <code>/cookbook/views/import_export.py</code>
4. Add your integration to the documentation at <code>/docs/features/import_export.md</code>
5. Include integration and docs link in <code>/vue3/src/utils/integration_utils.ts</code></p>
<h2 id="1-creating-a-new-integration-class">1. Creating a New Integration Class</h2>
<p>Your integration class should be named after what you are integrating with and should inherit from the <code>Integration</code> class. Use the template below to setup your class.</p>
<p><code>/cookbook/integration/yourintegration.py</code>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">io</span><span class="w"> </span><span class="kn">import</span> <span class="n">BytesIO</span><span class="p">,</span> <span class="n">StringIO</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">zipfile</span><span class="w"> </span><span class="kn">import</span> <span class="n">ZipFile</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">cookbook.integration.integration</span><span class="w"> </span><span class="kn">import</span> <span class="n">Integration</span>
<span class="c1"># from cookbook.helper.ingredient_parser import IngredientParser</span>
<span class="c1"># import other cookbook.helper as necessary</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">cookbook.models</span><span class="w"> </span><span class="kn">import</span>  <span class="n">Ingredient</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="n">NutritionInformation</span><span class="p">,</span> <span class="n">Recipe</span><span class="p">,</span> <span class="n">Step</span>


<span class="k">class</span><span class="w"> </span><span class="nc">YourIntegrationName</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_recipe_from_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Recipe</span><span class="p">:</span>
        <span class="c1">#Import Recipe Logic - convert information from file into Recipe() object</span>
        <span class="k">pass</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_file_name_filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="c1">#check file extension, return True if extension is correct</span>
        <span class="k">pass</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_file_from_recipe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">recipe</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span><span class="nb">str</span><span class="p">]:</span>
        <span class="c1">#Export Recipe Logic - convert from Recipe() object to a writable string in your integration&#39;s format</span>
        <span class="c1"># return &#39;Filename.extension&#39;, &#39;file string&#39;</span>
        <span class="k">pass</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_files_from_recipes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">recipes</span><span class="p">,</span> <span class="n">el</span><span class="p">,</span> <span class="n">cookie</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span><span class="nb">bytes</span><span class="p">]]:</span>
        <span class="c1"># &#39;el&#39; and &#39;cookie&#39; are passed through by the calling function &#39;do_export&#39;</span>
        <span class="n">export_zip_stream</span> <span class="o">=</span> <span class="n">BytesIO</span><span class="p">()</span>
        <span class="n">export_zip_obj</span> <span class="o">=</span> <span class="n">ZipFile</span><span class="p">(</span><span class="n">export_zip_stream</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">recipe</span> <span class="ow">in</span> <span class="n">recipes</span><span class="p">:</span>
            <span class="k">if</span> <span class="kc">True</span><span class="p">:</span> <span class="c1">#add any verification logic</span>
                <span class="c1"># get string data and filename from get_file_from_recipe() method and save it to a zip stream</span>
                <span class="n">recipe_stream</span> <span class="o">=</span> <span class="n">StringIO</span><span class="p">()</span>
                <span class="n">filename</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_file_from_recipe</span><span class="p">(</span><span class="n">recipe</span><span class="p">)</span>
                <span class="n">recipe_stream</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
                <span class="n">export_zip_obj</span><span class="o">.</span><span class="n">writestr</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">recipe</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1">/</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">recipe_stream</span><span class="o">.</span><span class="n">getvalue</span><span class="p">())</span>
                <span class="n">recipe_stream</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

            <span class="n">el</span><span class="o">.</span><span class="n">exported_recipes</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">el</span><span class="o">.</span><span class="n">msg</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_recipe_processed_msg</span><span class="p">(</span><span class="n">recipe</span><span class="p">)</span>
            <span class="n">el</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

        <span class="n">export_zip_obj</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

        <span class="c1"># returns a [[file name, zip stream data]]</span>
        <span class="c1"># self.get_export_file_name is an inherited from the Integration class and doesn&#39;t require definition</span>
        <span class="k">return</span> <span class="p">[[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_export_file_name</span><span class="p">(),</span> <span class="n">export_zip_stream</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()]]</span>
</code></pre></div></p>
<h2 id="2-including-in-formspy">2. including in Forms.py</h2>
<p>In the <code>/cookbook/forms.py</code> find the <code>ImportExportBase</code> class and add to it the following amoung the others:
<div class="highlight"><pre><span></span><code><span class="n">YOURINTEGRATION</span> <span class="o">=</span> <span class="s2">&quot;YOURINTEGRATION&quot;</span>
</code></pre></div>
Then you will find under that the following declaration:</p>
<p><code>type = forms.ChoiceField(choices=())</code>
the choices will have a long list of tuples. Add to the list of tuples the following:</p>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="n">YOURINTEGRATION</span><span class="p">,</span> <span class="s1">&#39;Your Integration&#39;</span><span class="p">),</span>
</code></pre></div>
<h2 id="3-including-in-views">3. Including in Views</h2>
<p>In the <code>/cookbook/views/import_export.py</code> import your integration</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">cookbook.integration.yourintegration</span><span class="w"> </span><span class="kn">import</span> <span class="n">YourIntegration</span>
</code></pre></div>
<p>Then add the following code to the long <code>if</code> chain:</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="n">export_type</span> <span class="o">==</span> <span class="n">ImportExportBase</span><span class="o">.</span><span class="n">YOURINTEGRATION</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">YourIntegration</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">export_type</span><span class="p">)</span>
</code></pre></div>
<p>be careful to use the exact all caps name of your integration that you used in the <code>cookbook/forms.py</code> or else it won't recognize it as a type. the snake case is the class that you defined in <code>/cookbook/integration</code></p>
<h2 id="4-add-to-the-documentation">4. Add to the Documentation</h2>
<p>If nothing else, you at least have to add one slugline about your integration in the <code>/docs/features/import_export.md</code> because the Vue pages require a link to send the send the user to if they hit the information button on the import/export form.</p>
<p>Go to the bottom of the doc and add:
<div class="highlight"><pre><span></span><code><span class="gu">## YourIntegration</span>
a little blurb about how it works or anything users should know about how the data needs to be formated.
</code></pre></div></p>
<p>Additionally add your integration to the table at the top of the document, marking the state of your integration, or wait until it is integrated and tested before adding to the table.</p>
<h2 id="5-add-to-vue-integration-utils">5. Add to Vue Integration Utils</h2>
<p>In the <code>/vue3/src/utils/integration_utils.ts</code> find <code>export const INTEGRATIONS: Array&lt;Integration&gt;</code> and in the long list add:
<div class="highlight"><pre><span></span><code>{id: &#39;YOURINTEGRATION&#39;, name: &quot;Your Integration&quot;, import: true, export: false, helpUrl: &#39;https://docs.tandoor.dev/features/import_export/#yourintegration&#39;},
</code></pre></div>
be sure to change 'true' or 'false' value for the import and export options to the correct values for your integration. 'true' indicates that it should be listed in the menu for imports or exports respectively.</p>
<h3 id="be-sure-to-update-vue-using-yarn-after-to-be-sure-the-html-files-get-updated">Be sure to update vue using <code>yarn</code> after to be sure the html files get updated</h3>
<hr />
<h1 id="integration-test-setup">Integration Test Setup</h1>
<h2 id="file-structure-and-files">File Structure and Files</h2>
<p>Tandoor uses Pytest to implement its testing features. To add tests and test documents navigate to 
<div class="highlight"><pre><span></span><code>cookbook/tests/other/
</code></pre></div>
There you can create a test file <code>test_yourintegration.py</code>. It is very important that it starts with "test_" as that is how pytest knows to run it as a test.</p>
<p>For the text files that you will want to parse and test for your integration you can put them at:</p>
<p><div class="highlight"><pre><span></span><code>cookbook/test/other/test_data/your_integration/
</code></pre></div>
making your own folder for your test inputs there. When directing your tests to pull the files from that folder make sure to include the whole path starting at <code>cookbook/</code></p>
<h2 id="creating-an-integration-test-with-a-request-object">Creating an Integration Test with a Request object</h2>
<p>Like the filename, inside the file <code>test_yourintegration.py</code> pytest looks specifically for the functions that start with the string <code>test_</code> any function that does not have that prefex won't be run. This is useful if you want to define helper methods to your tests.</p>
<p>Since your integration is a child of the <code>Integration</code> class you must pass your integration the required arguments: <code>request</code> and <code>export_type</code>. Unless your test has a specific export_type you are trying to test, it is not consequential what you put for <code>export_type</code>, so long as it is a string. I generally just use "export" in my test. For request though we need to generate one</p>
<p>You can accomplish this with the following code:
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">io</span><span class="w"> </span><span class="kn">import</span> <span class="n">BytesIO</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib</span><span class="w"> </span><span class="kn">import</span> <span class="n">auth</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.test</span><span class="w"> </span><span class="kn">import</span> <span class="n">RequestFactory</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django_scopes</span><span class="w"> </span><span class="kn">import</span> <span class="n">scope</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">cookbook.integration.cooklang</span><span class="w"> </span><span class="kn">import</span> <span class="n">YourIntegrationClass</span>

<span class="k">def</span><span class="w"> </span><span class="nf">test_yourintegration</span><span class="p">(</span><span class="n">u1_s1</span><span class="p">):</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">auth</span><span class="o">.</span><span class="n">get_user</span><span class="p">(</span><span class="n">u1_s1</span><span class="p">)</span>
    <span class="n">space</span> <span class="o">=</span> <span class="n">user</span><span class="o">.</span><span class="n">userspace_set</span><span class="o">.</span><span class="n">first</span><span class="p">()</span><span class="o">.</span><span class="n">space</span>
    <span class="n">request</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="p">()</span>
    <span class="n">request</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">user</span>
    <span class="n">request</span><span class="o">.</span><span class="n">space</span> <span class="o">=</span> <span class="n">space</span>

    <span class="k">with</span> <span class="n">scope</span><span class="p">(</span><span class="n">space</span><span class="o">=</span><span class="n">space</span><span class="p">):</span>
        <span class="n">integration_object</span> <span class="o">=</span> <span class="n">YourIntegrationClass</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s2">&quot;export&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;cookbook/test/other/test_data/your_integration/recipe_file.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
            <span class="n">recipe_bytes</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
            <span class="n">recipe_name</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">name</span>
        <span class="n">buffer</span> <span class="o">=</span> <span class="n">BytesIO</span><span class="p">(</span><span class="n">recipe_bytes</span><span class="p">)</span>
        <span class="n">buffer</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">recipe_name</span>
        <span class="n">recipe_object</span> <span class="o">=</span> <span class="n">integration_object</span><span class="o">.</span><span class="n">get_recipe_from_file</span><span class="p">(</span><span class="n">buffer</span><span class="p">)</span>
        <span class="c1"># all of your test function logic inside this with clause </span>
</code></pre></div>
though it is not important for you to understand, the u1_s1 is a pytest fixture that can be passed into your tests. By adding it as an argument for the test, pytest will fill that fixture in and you can use it to get a test user using the <code>auth.get_user()</code> method</p>
<p>with that you can add your assertions and test it using pytest.</p>
<hr />
<h1 id="integration-class-logic">Integration Class Logic</h1>
<p>Now that the setup is complete you need to implement the logic on the new Integration class you created.</p>
<h2 id="get_recipe_from_file-method">get_recipe_from_file method</h2>
<p>This function is called by the <code>Integration.do_import()</code> class method when a file is imported through the web portal. The <code>get_recipe_from_file(self, file)</code> takes only a file as an argument, which is passed from the <code>Integration.do_import()</code> as an <code>IOByte</code> binary object containing only the binary characters of the contents of the file, as well as a property called <code>name</code> that has a "utf-8" string of what the file name was.</p>
<h3 id="reading-the-file">Reading the File</h3>
<p>To get the string values of the contents of the file, you must call the following methods:</p>
<p><div class="highlight"><pre><span></span><code><span class="n">file_text</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</code></pre></div>
Then you can parse the file_text however you see fit for your integration. no need to do a <code>with open()</code> statement. The <code>Integration</code> parent class handles the opening and the closing of the file.</p>
<p>If your recipe name is dependent on the filename you can access the file name with:
<div class="highlight"><pre><span></span><code><span class="n">filename</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">name</span>
</code></pre></div></p>
<h3 id="managing-the-tandoor-recipe-object">Managing the Tandoor 'Recipe' Object</h3>
<p>The <code>Recipe</code> class has many properties, and it is recommended to view all of them <a href="https://github.com/TandoorRecipes/recipes/blob/develop/cookbook/models.py">here</a> in order to determine specifically how your integration will organize its data into the <code>Recipe</code> object data structure. The important ones to know are:
<div class="highlight"><pre><span></span><code><span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">128</span><span class="p">)</span>
<span class="n">description</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">512</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">servings</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">servings_text</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">32</span><span class="p">)</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ImageField</span><span class="p">(</span><span class="n">upload_to</span><span class="o">=</span><span class="s1">&#39;recipes/&#39;</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">keywords</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="n">Keyword</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">steps</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="n">Step</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">internal</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">created_by</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">User</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">PROTECT</span><span class="p">)</span>

<span class="n">space</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Space</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">)</span>
</code></pre></div>
You can define as many of these variables as you like at the time of creating the Recipe object but the bare minimum should be:</p>
<p><div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">cookbook.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Recipe</span>

<span class="k">def</span><span class="w"> </span><span class="nf">get_recipe_from_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span><span class="o">-&gt;</span> <span class="n">Recipe</span><span class="p">:</span>
    <span class="c1">#opening the file and parsing it</span>

    <span class="n">recipe_object</span> <span class="o">=</span> <span class="n">Recipe</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">your_recipe_name</span><span class="p">,</span>
        <span class="n">created_by</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
        <span class="n">internal</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">space</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">space</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1">#translating the parsed file into th recipe object</span>

    <span class="k">return</span> <span class="n">recipe_object</span>
</code></pre></div>
Both <code>created_by</code> and <code>space</code> require the request object from the webpage or API that initiated the request, the <code>Integration</code> parent class handles both of those and they can be retrieved through the <code>self.request</code> property. The <code>name</code> allows the recipe to be identifiable from the other recipes, making it uniquely identifiable from other newly instantiated <code>Recipe</code> objects. lasty <code>True</code> is the default value for <code>internal</code> only change it to false if that is what you intend.</p>
<p>After the <code>Recipe</code> object is created you can change or add data to its properties, these changes will show up in tests and work as expected until the program drops it from memory. Then all those changes will be lost unless you use the <code>.save()</code> method. It is recommended not to use the <code>.save()</code> after every change, but instead to make all your changes and call <code>.save()</code> once at the end of the <code>get_recipe_from_file</code> method before the object gets returned back to the <code>Integration.do_import()</code> method.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">cookbook.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Recipe</span>

<span class="k">def</span><span class="w"> </span><span class="nf">get_recipe_from_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span><span class="o">-&gt;</span> <span class="n">Recipe</span><span class="p">:</span>
    <span class="c1">#opening the file and parsing it</span>

    <span class="n">recipe_object</span> <span class="o">=</span> <span class="n">Recipe</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">your_recipe_name</span><span class="p">,</span>
        <span class="n">created_by</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
        <span class="n">internal</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">space</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">space</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Integration logic, making many changes to the recipe_object</span>

    <span class="n">recipe_object</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;A yummy treat for any day!&quot;</span>
    <span class="n">recipe_object</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">recipe_object</span>
</code></pre></div>
<h3 id="other-models-you-need-to-know">Other Models You Need To Know</h3>
<p>The 3 main models other than <code>Recipe</code> you will need to use are the <code>Step</code>, <code>Ingredient</code>(also <code>Food</code> and <code>Unit</code>- They all go hand in hand), and <code>Keyword</code>. The rough structure of these object in a <code>Recipe</code> are:</p>
<p>(Note that the <code>Recipe</code> object is not a <code>Json</code> object, the below is just a representation of the data)
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="err">Recipe</span><span class="p">:</span><span class="w"> </span>
<span class="w">    </span><span class="p">[{</span><span class="nt">&quot;steps&quot;</span><span class="p">:</span><span class="w"> </span>
<span class="w">        </span><span class="p">[{</span><span class="err">S</span><span class="kc">te</span><span class="err">p</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span><span class="nt">&quot;ingredients&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="p">{</span><span class="err">I</span><span class="kc">n</span><span class="err">gredie</span><span class="kc">nt</span><span class="p">:</span><span class="w"> </span>
<span class="w">                  </span><span class="p">{</span><span class="nt">&quot;food&quot;</span><span class="p">:</span><span class="w"> </span>
<span class="w">                    </span><span class="p">{</span><span class="err">Food</span><span class="p">:</span>
<span class="w">                      </span><span class="p">[{</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;food name&quot;</span><span class="p">},</span>
<span class="w">                        </span><span class="p">{</span><span class="err">U</span><span class="kc">n</span><span class="err">i</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;unit name&quot;</span><span class="p">}},</span>
<span class="w">                        </span><span class="p">{</span><span class="nt">&quot;amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">i</span><span class="kc">nt</span><span class="p">}</span>
<span class="w">                    </span><span class="p">]}}}]},</span>
<span class="w">            </span><span class="p">{</span><span class="nt">&quot;instruction&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;recipe step text&quot;</span><span class="p">}</span>
<span class="w">        </span><span class="p">]}]},</span>
<span class="w">    </span><span class="p">{</span><span class="nt">&quot;keywords&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span><span class="err">Keyword</span><span class="p">:</span><span class="w"> </span>
<span class="w">          </span><span class="p">{</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;keyword name&quot;</span><span class="p">}</span>
<span class="w">        </span><span class="p">}]}]}</span>
</code></pre></div>
Below are their bare-bones implementations in regard to creating a <code>Recipe</code> object integration.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">cookbook.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Recipe</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="n">Step</span><span class="p">,</span> <span class="n">Ingredient</span><span class="p">,</span> <span class="n">Food</span><span class="p">,</span> <span class="n">Unit</span>

<span class="k">def</span><span class="w"> </span><span class="nf">get_recipe_from_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span><span class="o">-&gt;</span> <span class="n">Recipe</span><span class="p">:</span>
    <span class="c1">#opening the file and parsing it</span>

    <span class="n">recipe_object</span> <span class="o">=</span> <span class="n">Recipe</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">your_recipe_name</span><span class="p">,</span>
        <span class="n">created_by</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
        <span class="n">internal</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">space</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">space</span><span class="p">,)</span>

    <span class="c1">#logic for creating a list of keywords</span>

    <span class="k">for</span> <span class="n">keyword</span> <span class="ow">in</span> <span class="n">parsed_file</span><span class="o">.</span><span class="n">keywords</span><span class="p">:</span>
        <span class="n">recipe_object</span><span class="o">.</span><span class="n">keywords</span><span class="o">.</span><span class="n">add</span><span class="p">(</span>
            <span class="n">Keyword</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get_or_create</span><span class="p">(</span>
                <span class="n">space</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">space</span><span class="p">,</span> 
                <span class="n">name</span><span class="o">=</span><span class="n">keyword</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>

    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">parsed_file</span><span class="p">:</span>
        <span class="c1">#logic for creating a list of ingredients</span>
        <span class="c1">#logic for instructions</span>
        <span class="n">step</span> <span class="o">=</span> <span class="n">Step</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
            <span class="n">instruction</span><span class="o">=</span><span class="n">line</span><span class="o">.</span><span class="n">instruction_string</span><span class="p">,</span> 
            <span class="n">order</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> 
            <span class="n">space</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">space</span><span class="p">,</span> 
            <span class="n">show_ingredients_table</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">userpreference</span><span class="o">.</span><span class="n">show_step_ingredients</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ingredient</span> <span class="ow">in</span> <span class="n">line</span><span class="o">.</span><span class="n">ingredients</span><span class="p">:</span>
            <span class="n">step</span><span class="o">.</span><span class="n">ingredients</span><span class="o">.</span><span class="n">add</span><span class="p">(</span>
                <span class="n">Ingredient</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
                    <span class="n">food</span><span class="o">=</span><span class="n">Food</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get_or_create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">ingredient</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">space</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">space</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span>
                    <span class="n">unit</span><span class="o">=</span><span class="n">Unit</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get_or_create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">ingredient</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">unit</span><span class="p">,</span> <span class="n">space</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">space</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span>
                    <span class="n">amount</span><span class="o">=</span><span class="n">ingredient</span><span class="o">.</span><span class="n">quantity</span><span class="o">.</span><span class="n">amount</span><span class="p">,</span>
                    <span class="n">space</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">space</span><span class="p">,</span> <span class="p">))</span>
        <span class="n">recipe_object</span><span class="o">.</span><span class="n">steps</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">step</span><span class="p">)</span>
        <span class="n">i</span><span class="o">+=</span><span class="mi">1</span>
    <span class="n">recipe_object</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">recipe_object</span>
</code></pre></div>
<h2 id="import_file_name_filter-method">import_file_name_filter method</h2>
<p>Documentation to come.</p>
<h2 id="get_file_from_recipe-method">get_file_from_recipe method</h2>
<p>Documentation to come.</p>
<h2 id="get_files_from_recipes-method">get_files_from_recipes method</h2>
<p>Documentation to come.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>